{"ast":null,"code":"import { USER_TYPE, isPharmacyUser } from '../../../constants/User';\n\nconst _ = require('lodash');\n\nexport const prepareUserData = payload => {\n  if (!payload) return;\n\n  let user = _.cloneDeep(payload);\n\n  if ([USER_TYPE.ADMIN.SUPER, USER_TYPE.ADMIN.GENERAL, USER_TYPE.PHARMACY].indexOf(user.type) >= 0) {\n    return user;\n  }\n\n  let homeList = [];\n\n  if (isPharmacyUser(user.type)) {\n    var _user$pharmacyId, _user$pharmacyId$home;\n\n    if ((user === null || user === void 0 ? void 0 : (_user$pharmacyId = user.pharmacyId) === null || _user$pharmacyId === void 0 ? void 0 : (_user$pharmacyId$home = _user$pharmacyId.homes) === null || _user$pharmacyId$home === void 0 ? void 0 : _user$pharmacyId$home.length) > 0) {\n      user.pharmacyId.homes.forEach(obj => {\n        homeList.push(obj);\n      });\n      console.log(\"prepareUserData -> user.homeId\", user.homeId); // user.homeId = user.homeId || homeList[0]\n    }\n  } else if (user.assignedCustomer && user.assignedCustomer.length) {\n    user.assignedCustomer.forEach(obj => {\n      if (obj.homeId) {\n        homeList.push({\n          _id: obj.homeId._id,\n          name: obj.homeId.name\n        });\n      }\n    });\n  }\n\n  user.homeList = homeList;\n  return user;\n};","map":{"version":3,"sources":["/home/gauravpendherkar/DemoWriti/src/services/api/services/Auth.js"],"names":["USER_TYPE","isPharmacyUser","_","require","prepareUserData","payload","user","cloneDeep","ADMIN","SUPER","GENERAL","PHARMACY","indexOf","type","homeList","pharmacyId","homes","length","forEach","obj","push","console","log","homeId","assignedCustomer","_id","name"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,yBAA1C;;AAEA,MAAMC,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACA,OAAO,MAAMC,eAAe,GAAIC,OAAD,IAAa;AACxC,MAAI,CAACA,OAAL,EACI;;AACJ,MAAIC,IAAI,GAAGJ,CAAC,CAACK,SAAF,CAAYF,OAAZ,CAAX;;AACA,MAAI,CAACL,SAAS,CAACQ,KAAV,CAAgBC,KAAjB,EAAwBT,SAAS,CAACQ,KAAV,CAAgBE,OAAxC,EAAiDV,SAAS,CAACW,QAA3D,EAAqEC,OAArE,CAA6EN,IAAI,CAACO,IAAlF,KAA2F,CAA/F,EAAkG;AAC9F,WAAOP,IAAP;AACH;;AACD,MAAIQ,QAAQ,GAAG,EAAf;;AACA,MAAIb,cAAc,CAACK,IAAI,CAACO,IAAN,CAAlB,EAA+B;AAAA;;AAC3B,QAAI,CAAAP,IAAI,SAAJ,IAAAA,IAAI,WAAJ,gCAAAA,IAAI,CAAES,UAAN,+FAAkBC,KAAlB,gFAAyBC,MAAzB,IAAkC,CAAtC,EAAyC;AACrCX,MAAAA,IAAI,CAACS,UAAL,CAAgBC,KAAhB,CAAsBE,OAAtB,CAA8BC,GAAG,IAAI;AACjCL,QAAAA,QAAQ,CAACM,IAAT,CAAcD,GAAd;AACH,OAFD;AAGAE,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8ChB,IAAI,CAACiB,MAAnD,EAJqC,CAKrC;AACH;AACJ,GARD,MAQO,IAAIjB,IAAI,CAACkB,gBAAL,IAAyBlB,IAAI,CAACkB,gBAAL,CAAsBP,MAAnD,EAA2D;AAC9DX,IAAAA,IAAI,CAACkB,gBAAL,CAAsBN,OAAtB,CAA8BC,GAAG,IAAI;AACjC,UAAIA,GAAG,CAACI,MAAR,EAAgB;AACZT,QAAAA,QAAQ,CAACM,IAAT,CAAc;AACVK,UAAAA,GAAG,EAAEN,GAAG,CAACI,MAAJ,CAAWE,GADN;AAEVC,UAAAA,IAAI,EAAEP,GAAG,CAACI,MAAJ,CAAWG;AAFP,SAAd;AAIH;AACJ,KAPD;AAQH;;AACDpB,EAAAA,IAAI,CAACQ,QAAL,GAAgBA,QAAhB;AACA,SAAOR,IAAP;AACH,CA5BM","sourcesContent":["import { USER_TYPE, isPharmacyUser } from '../../../constants/User'\n\nconst _ = require('lodash')\nexport const prepareUserData = (payload) => {\n    if (!payload)\n        return\n    let user = _.cloneDeep(payload)\n    if ([USER_TYPE.ADMIN.SUPER, USER_TYPE.ADMIN.GENERAL, USER_TYPE.PHARMACY].indexOf(user.type) >= 0) {\n        return user\n    }\n    let homeList = []\n    if (isPharmacyUser(user.type)) {\n        if (user?.pharmacyId?.homes?.length > 0) {\n            user.pharmacyId.homes.forEach(obj => {\n                homeList.push(obj)\n            })\n            console.log(\"prepareUserData -> user.homeId\", user.homeId)\n            // user.homeId = user.homeId || homeList[0]\n        }\n    } else if (user.assignedCustomer && user.assignedCustomer.length) {\n        user.assignedCustomer.forEach(obj => {\n            if (obj.homeId) {\n                homeList.push({\n                    _id: obj.homeId._id,\n                    name: obj.homeId.name\n                })\n            }\n        })\n    }\n    user.homeList = homeList\n    return user\n}\n\n"]},"metadata":{},"sourceType":"module"}