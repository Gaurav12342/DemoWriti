{"ast":null,"code":"var _jsxFileName = \"/home/gauravpendherkar/DemoWriti/src/components/AuthenticateModal.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Dialog, Input, ErrorMsg, Toast } from './../components/common';\nimport { createForm } from 'rc-form';\nimport { authenticatePassword } from '../services/api/routes/auth';\nimport axios from \"../services/api/services/common\";\n\nconst AuthenticateModal = props => {\n  const {\n    visible,\n    detail,\n    title,\n    onOk,\n    onCancel,\n    form,\n    request,\n    loading\n  } = props;\n  const {\n    getFieldDecorator,\n    getFieldError\n  } = form;\n  const [loader, setLoader] = useState(false);\n  const [show, setShow] = useState(false);\n  let errors;\n\n  const handleShowPass = () => setShow(show => !show);\n\n  const handleOk = async () => {\n    form.validateFields(async (err, values) => {\n      if (err) return;\n      let req = {\n        \"excludeOTPVerification\": true,\n        \"password\": values.password,\n        ...request\n      };\n      setLoader(true);\n\n      try {\n        let res = await axios({ ...authenticatePassword,\n          data: req\n        });\n\n        if (res) {\n          if (res.code === 'OK') {\n            Toast.success(res.message);\n            if (onOk) onOk(res.data);\n          }\n        }\n\n        setLoader(false);\n      } catch {\n        setLoader(false);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Dialog, {\n    visible: visible,\n    title: title || 'Authetication',\n    maskClosable: false,\n    onCancel: onCancel,\n    onOk: handleOk,\n    okButtonProps: {\n      loading: loader || loading\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_group required col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 28\n    }\n  }, \"*\")), getFieldDecorator('password', {\n    rules: [{\n      required: true,\n      message: 'Please Enter Your Password',\n      whitespace: true\n    }]\n  })( /*#__PURE__*/React.createElement(Input, {\n    ispass: true,\n    type: show ? 'text' : 'password',\n    placeholder: \"Enter Password\",\n    hideshowpasschange: handleShowPass,\n    show: show,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 16\n    }\n  })), (errors = getFieldError('password')) ? /*#__PURE__*/React.createElement(ErrorMsg, {\n    errors: errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 53\n    }\n  }) : null));\n};\n\nexport default createForm()(AuthenticateModal);","map":{"version":3,"sources":["/home/gauravpendherkar/DemoWriti/src/components/AuthenticateModal.js"],"names":["React","useState","useEffect","useContext","Dialog","Input","ErrorMsg","Toast","createForm","authenticatePassword","axios","AuthenticateModal","props","visible","detail","title","onOk","onCancel","form","request","loading","getFieldDecorator","getFieldError","loader","setLoader","show","setShow","errors","handleShowPass","handleOk","validateFields","err","values","req","password","res","data","code","success","message","rules","required","whitespace"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Dialog, Input, ErrorMsg, Toast } from './../components/common'\nimport { createForm } from 'rc-form'\nimport { authenticatePassword } from '../services/api/routes/auth'\nimport axios from \"../services/api/services/common\";\n\nconst AuthenticateModal = (props) => {\n    const { visible, detail, title, onOk, onCancel, form, request, loading } = props\n    const { getFieldDecorator, getFieldError } = form\n\n    const [loader, setLoader] = useState(false)\n    const [show, setShow] = useState(false)\n    let errors\n    const handleShowPass = () => setShow(show => !show)\n\n    const handleOk = async () => {\n        form.validateFields(async (err, values) => {\n            if (err) return\n            let req = {\n                \"excludeOTPVerification\": true,\n                \"password\": values.password,\n                ...request\n            }\n            setLoader(true)\n            try {\n                let res = await axios({ ...authenticatePassword, data: req })\n                if (res) {\n                    if (res.code === 'OK') {\n                        Toast.success(res.message)\n                        if (onOk)\n                            onOk(res.data)\n                    }\n                }\n                setLoader(false)\n            } catch{\n                setLoader(false)\n            }\n        })\n    }\n\n    return <Dialog\n        visible={visible}\n        title={title || 'Authetication'}\n        maskClosable={false}\n        onCancel={onCancel}\n        onOk={handleOk}\n        okButtonProps={{ loading: loader || loading }} >\n        <div className='form_group required col-12'>\n            <label>Password<span>*</span></label>\n            {getFieldDecorator('password', {\n                rules: [{\n                    required: true,\n                    message: 'Please Enter Your Password',\n                    whitespace: true,\n                }],\n            })(<Input\n                ispass={true}\n                type={show ? 'text' : 'password'}\n                placeholder=\"Enter Password\"\n                hideshowpasschange={handleShowPass}\n                show={show}\n            />\n            )}\n            {(errors = getFieldError('password')) ? <ErrorMsg errors={errors} /> : null}\n        </div>\n    </Dialog >\n\n}\n\nexport default createForm()(AuthenticateModal)"]},"metadata":{},"sourceType":"module"}