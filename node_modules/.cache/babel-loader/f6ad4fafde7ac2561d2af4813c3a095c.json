{"ast":null,"code":"var _jsxFileName = \"/home/gauravpendherkar/DemoWriti/src/components/SearchMedication/index.js\";\nimport React, { useState } from 'react';\nimport { Input, Select, Option, Spin } from '../common';\nimport axios from '../../services/api/services/common';\nimport { getDrugs } from '../../services/api/routes/prescription'; // import drugs from '../../assets/files/JSON/drugs.json';\n\nconst drugs = [{\n  \"hits\": [{\n    \"field\": \"name\",\n    \"value\": \"Atorvastatin 20 mg Oral Tablet\"\n  }],\n  \"name\": \"Atorvastatin 20 mg Oral Tablet\",\n  \"country\": \"Canada\",\n  \"brands\": [\"Apo-atorvastatin\", \"Auro-atorvastatin\", \"Dom-atorvastatin\", \"Jamp-atorvastatin\", \"Mar-atorvastatin\", \"Mylan-atorvastatin\", \"PMS-atorvastatin\", \"Ran-atorvastatin\", \"Ratio-atorvastatin\", \"Reddy-atorvastatin\", \"Riva-atorvastatin\", \"Teva-atorvastatin\"],\n  \"ndc_product_codes\": null,\n  \"dpd_codes\": [\"02295288\", \"02310902\", \"02313456\", \"02313715\", \"02350319\", \"02355620\", \"02391066\", \"02392941\", \"02399385\", \"02399490\", \"02407264\", \"02417944\", \"02422778\", \"02454025\"],\n  \"ema_product_codes\": null,\n  \"dosage_forms\": [\"Tablet\"],\n  \"strength_number\": \"20\",\n  \"strength_unit\": \"mg\",\n  \"dosage_form\": [\"Tablet\"],\n  \"route\": \"Oral\",\n  \"approved\": true,\n  \"unapproved\": false,\n  \"generic\": true,\n  \"otc\": false,\n  \"mixture\": false,\n  \"allergen\": false,\n  \"vaccine\": false,\n  \"ingredients\": [{\n    \"drugbank_id\": \"DB01076\",\n    \"name\": \"Atorvastatin\",\n    \"cas\": \"134523-00-5\",\n    \"strength_number\": \"20\",\n    \"strength_unit\": \"mg\"\n  }]\n}, {\n  \"hits\": [{\n    \"field\": \"name\",\n    \"value\": \"Atorvastatin calcium trihydrate 20 mg Oral Tablet\"\n  }],\n  \"name\": \"Atorvastatin calcium trihydrate 20 mg Oral Tablet\",\n  \"rx_norm_name\": \"atorvastatin calcium 20 MG Oral Tablet\",\n  \"country\": \"US\",\n  \"brands\": [\"Atorvastatin Calcium\"],\n  \"ndc_product_codes\": [\"50090-3536\", \"63304-0828\", \"68645-0481\", \"70518-2111\", \"70934-0296\", \"71610-0022\", \"72205-0023\"],\n  \"dpd_codes\": null,\n  \"ema_product_codes\": null,\n  \"dosage_forms\": [\"Tablet, film coated\"],\n  \"strength_number\": \"20\",\n  \"strength_unit\": \"mg/1\",\n  \"dosage_form\": [\"Tablet, film coated\"],\n  \"route\": \"Oral\",\n  \"approved\": true,\n  \"unapproved\": false,\n  \"generic\": true,\n  \"otc\": false,\n  \"mixture\": false,\n  \"allergen\": false,\n  \"vaccine\": false,\n  \"ingredients\": [{\n    \"drugbank_id\": \"DB01076\",\n    \"name\": \"Atorvastatin\",\n    \"cas\": \"134523-00-5\",\n    \"strength_number\": \"20\",\n    \"strength_unit\": \"mg/1\"\n  }]\n}, {\n  \"hits\": [{\n    \"field\": \"name\",\n    \"value\": \"Amlodipine besylate 2.5 mg / Atorvastatin calcium trihydrate 20 mg Oral Tablet\"\n  }],\n  \"name\": \"Amlodipine besylate 2.5 mg / Atorvastatin calcium trihydrate 20 mg Oral Tablet\",\n  \"rx_norm_name\": \"amLODIPine besylate 2.5 MG / atorvastatin calcium 20 MG Oral Tablet\",\n  \"country\": \"US\",\n  \"brands\": [\"Amlodipine and atorvastatin\", \"Amlodipine besylate and Atorvastatin calcium\"],\n  \"ndc_product_codes\": [\"00378-4511\", \"43598-0320\", \"59762-6711\"],\n  \"dpd_codes\": null,\n  \"ema_product_codes\": null,\n  \"dosage_forms\": [\"Tablet, film coated\"],\n  \"strength_number\": null,\n  \"strength_unit\": null,\n  \"dosage_form\": [\"Tablet, film coated\"],\n  \"route\": \"Oral\",\n  \"approved\": true,\n  \"unapproved\": false,\n  \"generic\": true,\n  \"otc\": false,\n  \"mixture\": true,\n  \"allergen\": false,\n  \"vaccine\": false,\n  \"ingredients\": [{\n    \"drugbank_id\": \"DB00381\",\n    \"name\": \"Amlodipine\",\n    \"cas\": \"88150-42-9\",\n    \"strength_number\": \"2.5\",\n    \"strength_unit\": \"mg/1\"\n  }, {\n    \"drugbank_id\": \"DB01076\",\n    \"name\": \"Atorvastatin\",\n    \"cas\": \"134523-00-5\",\n    \"strength_number\": \"20\",\n    \"strength_unit\": \"mg/1\"\n  }]\n}, {\n  \"hits\": [{\n    \"field\": \"name\",\n    \"value\": \"Amlodipine besylate 10 mg / Atorvastatin calcium trihydrate 20 mg Oral Tablet\"\n  }],\n  \"name\": \"Amlodipine besylate 10 mg / Atorvastatin calcium trihydrate 20 mg Oral Tablet\",\n  \"country\": \"US\",\n  \"brands\": [\"Amlodipine and atorvastatin\"],\n  \"ndc_product_codes\": [\"68382-0432\", \"70771-1465\"],\n  \"dpd_codes\": null,\n  \"ema_product_codes\": null,\n  \"dosage_forms\": [\"Tablet, film coated\"],\n  \"strength_number\": null,\n  \"strength_unit\": null,\n  \"dosage_form\": [\"Tablet, film coated\"],\n  \"route\": \"Oral\",\n  \"approved\": true,\n  \"unapproved\": false,\n  \"generic\": true,\n  \"otc\": false,\n  \"mixture\": true,\n  \"allergen\": false,\n  \"vaccine\": false,\n  \"ingredients\": [{\n    \"drugbank_id\": \"DB00381\",\n    \"name\": \"Amlodipine\",\n    \"cas\": \"88150-42-9\",\n    \"strength_number\": \"10\",\n    \"strength_unit\": \"mg/1\"\n  }, {\n    \"drugbank_id\": \"DB01076\",\n    \"name\": \"Atorvastatin\",\n    \"cas\": \"134523-00-5\",\n    \"strength_number\": \"20\",\n    \"strength_unit\": \"mg/1\"\n  }]\n}];\n\nconst _ = require('lodash');\n\nconst SearchMedicine = props => {\n  const {\n    onSelectMedication,\n    onChange\n  } = props;\n  const [data, setData] = useState([]);\n  const [loader, setLoader] = useState(false);\n\n  const handleMedicationSearch = (value, callback) => {\n    if (value && value.length > 2) {\n      // to manage LU Code required on clearing medication\n      // let str = value.split(','), strength\n      // if (str) {\n      //   value = str[0].replace(/\\s+$/, '')\n      //   if (str[1])\n      //     strength = str[1].trim()\n      // }\n      fetchMediaction(value);\n    }\n\n    ;\n  };\n\n  const fetchMediaction = async value => {\n    setLoader(true);\n    const getAll = {\n      method: 'GET',\n      url: 'https://api.drugbank.com/v1/ca/drug_names?q=' + value,\n      headers: {\n        Authorization: 'a4cf8a1fb8a4794786a2e4f8a6bb38a5',\n        isCustom: true\n      }\n    };\n    const {\n      method,\n      url,\n      headers\n    } = getAll; // const data = { sort: { createdAt: -1 }, where: { isActive: true } };\n    // try {\n    //   let res = await axios({ method, url, headers });\n    //   if (res) {\n    //     if (res.code === \"OK\") {\n    //       setData(res.data.data.products);\n    //     }\n    //   }\n    // } catch{ setLoader(false) }\n\n    let newDrug = [];\n    drugs.some(x => {\n      if (x.name.toLowerCase().indexOf(value.toLowerCase()) >= 0) newDrug.push(x);\n      if (newDrug.length > 9) return true;\n    });\n    console.log(\"fetchMediaction -> newDrug\", newDrug);\n    setData(newDrug);\n    setLoader(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Select, {\n    combobox: true,\n    multiple: false,\n    showArrow: false,\n    placeholder: \"Search Medication\",\n    allowClear: true,\n    filterOption: false,\n    onChange: onChange,\n    showSearch: true,\n    onSearch: handleMedicationSearch,\n    onSelect: onSelectMedication,\n    disabled: props.disabled,\n    searchable: true,\n    value: props.value || undefined,\n    notFoundContent: loader ? /*#__PURE__*/React.createElement(Spin, {\n      spinning: loader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 35\n      }\n    }) : 'No Data Found',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }\n  }, data && data.length > 0 && data.map((dd, index) => {\n    return /*#__PURE__*/React.createElement(Option, {\n      key: index,\n      value: dd.name,\n      title: dd.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 15\n      }\n    }, dd.name);\n  })));\n};\n\nexport default SearchMedicine;","map":{"version":3,"sources":["/home/gauravpendherkar/DemoWriti/src/components/SearchMedication/index.js"],"names":["React","useState","Input","Select","Option","Spin","axios","getDrugs","drugs","_","require","SearchMedicine","props","onSelectMedication","onChange","data","setData","loader","setLoader","handleMedicationSearch","value","callback","length","fetchMediaction","getAll","method","url","headers","Authorization","isCustom","newDrug","some","x","name","toLowerCase","indexOf","push","console","log","disabled","undefined","map","dd","index"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Input, Select, Option, Spin } from '../common';\nimport axios from '../../services/api/services/common'\nimport { getDrugs } from '../../services/api/routes/prescription'\n// import drugs from '../../assets/files/JSON/drugs.json';\nconst drugs = [\n  {\n    \"hits\": [\n      {\n        \"field\": \"name\",\n        \"value\": \"Atorvastatin 20 mg Oral Tablet\"\n      }\n    ],\n    \"name\": \"Atorvastatin 20 mg Oral Tablet\",\n    \"country\": \"Canada\",\n    \"brands\": [\n      \"Apo-atorvastatin\",\n      \"Auro-atorvastatin\",\n      \"Dom-atorvastatin\",\n      \"Jamp-atorvastatin\",\n      \"Mar-atorvastatin\",\n      \"Mylan-atorvastatin\",\n      \"PMS-atorvastatin\",\n      \"Ran-atorvastatin\",\n      \"Ratio-atorvastatin\",\n      \"Reddy-atorvastatin\",\n      \"Riva-atorvastatin\",\n      \"Teva-atorvastatin\"\n    ],\n    \"ndc_product_codes\": null,\n    \"dpd_codes\": [\n      \"02295288\",\n      \"02310902\",\n      \"02313456\",\n      \"02313715\",\n      \"02350319\",\n      \"02355620\",\n      \"02391066\",\n      \"02392941\",\n      \"02399385\",\n      \"02399490\",\n      \"02407264\",\n      \"02417944\",\n      \"02422778\",\n      \"02454025\"\n    ],\n    \"ema_product_codes\": null,\n    \"dosage_forms\": [\n      \"Tablet\"\n    ],\n    \"strength_number\": \"20\",\n    \"strength_unit\": \"mg\",\n    \"dosage_form\": [\n      \"Tablet\"\n    ],\n    \"route\": \"Oral\",\n    \"approved\": true,\n    \"unapproved\": false,\n    \"generic\": true,\n    \"otc\": false,\n    \"mixture\": false,\n    \"allergen\": false,\n    \"vaccine\": false,\n    \"ingredients\": [\n      {\n        \"drugbank_id\": \"DB01076\",\n        \"name\": \"Atorvastatin\",\n        \"cas\": \"134523-00-5\",\n        \"strength_number\": \"20\",\n        \"strength_unit\": \"mg\"\n      }\n    ]\n  },\n  {\n    \"hits\": [\n      {\n        \"field\": \"name\",\n        \"value\": \"Atorvastatin calcium trihydrate 20 mg Oral Tablet\"\n      }\n    ],\n    \"name\": \"Atorvastatin calcium trihydrate 20 mg Oral Tablet\",\n    \"rx_norm_name\": \"atorvastatin calcium 20 MG Oral Tablet\",\n    \"country\": \"US\",\n    \"brands\": [\n      \"Atorvastatin Calcium\"\n    ],\n    \"ndc_product_codes\": [\n      \"50090-3536\",\n      \"63304-0828\",\n      \"68645-0481\",\n      \"70518-2111\",\n      \"70934-0296\",\n      \"71610-0022\",\n      \"72205-0023\"\n    ],\n    \"dpd_codes\": null,\n    \"ema_product_codes\": null,\n    \"dosage_forms\": [\n      \"Tablet, film coated\"\n    ],\n    \"strength_number\": \"20\",\n    \"strength_unit\": \"mg/1\",\n    \"dosage_form\": [\n      \"Tablet, film coated\"\n    ],\n    \"route\": \"Oral\",\n    \"approved\": true,\n    \"unapproved\": false,\n    \"generic\": true,\n    \"otc\": false,\n    \"mixture\": false,\n    \"allergen\": false,\n    \"vaccine\": false,\n    \"ingredients\": [\n      {\n        \"drugbank_id\": \"DB01076\",\n        \"name\": \"Atorvastatin\",\n        \"cas\": \"134523-00-5\",\n        \"strength_number\": \"20\",\n        \"strength_unit\": \"mg/1\"\n      }\n    ]\n  },\n  {\n    \"hits\": [\n      {\n        \"field\": \"name\",\n        \"value\": \"Amlodipine besylate 2.5 mg / Atorvastatin calcium trihydrate 20 mg Oral Tablet\"\n      }\n    ],\n    \"name\": \"Amlodipine besylate 2.5 mg / Atorvastatin calcium trihydrate 20 mg Oral Tablet\",\n    \"rx_norm_name\": \"amLODIPine besylate 2.5 MG / atorvastatin calcium 20 MG Oral Tablet\",\n    \"country\": \"US\",\n    \"brands\": [\n      \"Amlodipine and atorvastatin\",\n      \"Amlodipine besylate and Atorvastatin calcium\"\n    ],\n    \"ndc_product_codes\": [\n      \"00378-4511\",\n      \"43598-0320\",\n      \"59762-6711\"\n    ],\n    \"dpd_codes\": null,\n    \"ema_product_codes\": null,\n    \"dosage_forms\": [\n      \"Tablet, film coated\"\n    ],\n    \"strength_number\": null,\n    \"strength_unit\": null,\n    \"dosage_form\": [\n      \"Tablet, film coated\"\n    ],\n    \"route\": \"Oral\",\n    \"approved\": true,\n    \"unapproved\": false,\n    \"generic\": true,\n    \"otc\": false,\n    \"mixture\": true,\n    \"allergen\": false,\n    \"vaccine\": false,\n    \"ingredients\": [\n      {\n        \"drugbank_id\": \"DB00381\",\n        \"name\": \"Amlodipine\",\n        \"cas\": \"88150-42-9\",\n        \"strength_number\": \"2.5\",\n        \"strength_unit\": \"mg/1\"\n      },\n      {\n        \"drugbank_id\": \"DB01076\",\n        \"name\": \"Atorvastatin\",\n        \"cas\": \"134523-00-5\",\n        \"strength_number\": \"20\",\n        \"strength_unit\": \"mg/1\"\n      }\n    ]\n  },\n  {\n    \"hits\": [\n      {\n        \"field\": \"name\",\n        \"value\": \"Amlodipine besylate 10 mg / Atorvastatin calcium trihydrate 20 mg Oral Tablet\"\n      }\n    ],\n    \"name\": \"Amlodipine besylate 10 mg / Atorvastatin calcium trihydrate 20 mg Oral Tablet\",\n    \"country\": \"US\",\n    \"brands\": [\n      \"Amlodipine and atorvastatin\"\n    ],\n    \"ndc_product_codes\": [\n      \"68382-0432\",\n      \"70771-1465\"\n    ],\n    \"dpd_codes\": null,\n    \"ema_product_codes\": null,\n    \"dosage_forms\": [\n      \"Tablet, film coated\"\n    ],\n    \"strength_number\": null,\n    \"strength_unit\": null,\n    \"dosage_form\": [\n      \"Tablet, film coated\"\n    ],\n    \"route\": \"Oral\",\n    \"approved\": true,\n    \"unapproved\": false,\n    \"generic\": true,\n    \"otc\": false,\n    \"mixture\": true,\n    \"allergen\": false,\n    \"vaccine\": false,\n    \"ingredients\": [\n      {\n        \"drugbank_id\": \"DB00381\",\n        \"name\": \"Amlodipine\",\n        \"cas\": \"88150-42-9\",\n        \"strength_number\": \"10\",\n        \"strength_unit\": \"mg/1\"\n      },\n      {\n        \"drugbank_id\": \"DB01076\",\n        \"name\": \"Atorvastatin\",\n        \"cas\": \"134523-00-5\",\n        \"strength_number\": \"20\",\n        \"strength_unit\": \"mg/1\"\n      }\n    ]\n  }\n]\n\nconst _ = require('lodash')\n\nconst SearchMedicine = (props) => {\n  const { onSelectMedication, onChange } = props\n  const [data, setData] = useState([]);\n  const [loader, setLoader] = useState(false);\n\n  const handleMedicationSearch = (value, callback) => {\n    if (value && value.length > 2) {\n      // to manage LU Code required on clearing medication\n      // let str = value.split(','), strength\n      // if (str) {\n      //   value = str[0].replace(/\\s+$/, '')\n      //   if (str[1])\n      //     strength = str[1].trim()\n      // }\n      fetchMediaction(value)\n    };\n  }\n\n  const fetchMediaction = async (value) => {\n    setLoader(true)\n    const getAll = {\n      method: 'GET',\n      url: 'https://api.drugbank.com/v1/ca/drug_names?q=' + value,\n      headers: { Authorization: 'a4cf8a1fb8a4794786a2e4f8a6bb38a5', isCustom: true }\n    }\n    const { method, url, headers } = getAll;\n    // const data = { sort: { createdAt: -1 }, where: { isActive: true } };\n    // try {\n    //   let res = await axios({ method, url, headers });\n    //   if (res) {\n    //     if (res.code === \"OK\") {\n    //       setData(res.data.data.products);\n    //     }\n    //   }\n    // } catch{ setLoader(false) }\n    let newDrug = []\n    drugs.some(x => {\n      if (x.name.toLowerCase().indexOf(value.toLowerCase()) >= 0)\n        newDrug.push(x)\n      if (newDrug.length > 9) return true\n    })\n    console.log(\"fetchMediaction -> newDrug\", newDrug)\n    setData(newDrug)\n    setLoader(false)\n  };\n\n  return (\n    <>\n      <Select\n        combobox={true}\n        multiple={false}\n        showArrow={false}\n        placeholder=\"Search Medication\"\n        allowClear={true}\n        filterOption={false}\n        onChange={onChange}\n        showSearch={true}\n        onSearch={handleMedicationSearch}\n        onSelect={onSelectMedication}\n        disabled={props.disabled}\n        searchable={true}\n        value={props.value || undefined}\n        notFoundContent={loader ? <Spin spinning={loader}></Spin> : 'No Data Found'}\n      >\n        {\n          data &&\n          data.length > 0 &&\n          data.map((dd, index) => {\n            return (\n              <Option\n                key={index}\n                value={dd.name}\n                title={dd.name}\n              >\n                {dd.name}\n              </Option>\n            );\n          })}\n      </Select>\n    </>\n  );\n};\n\nexport default SearchMedicine;\n"]},"metadata":{},"sourceType":"module"}