{"ast":null,"code":"var _jsxFileName = \"/home/gauravpendherkar/DemoWriti/src/containers/ResidentDetail/View/UserResidentDetail.js\";\nimport React, { useState, memo, useCallback, useEffect, createContext } from 'react';\nimport { useSelector } from 'react-redux';\nimport { TabPanel } from 'react-tabs';\nimport { tabData, TAB_KEYS } from '../../../components/common/Tab/data';\nimport PersistentTabs from '../../../components/common/Tab/PersistentTabs';\nimport OrdersTab from './OrdersTab';\nimport PmrTab from './PmrTab/index';\nimport XRayTab from './xrayTab';\nimport NotesTab from './NotesTab/index'; // import DigitalBinderTab from \"./digitalBinderTab\";\n\nimport DigitalBinder from '../View/DigitalBinder/index';\nimport VirtualVisitTabData from './virtualVisitTab';\nimport AddResident from './addResident';\nimport EProcessing from './EProcessing/index';\nimport AddEProcessing from './EProcessing/AddEProcessing'; // import EProcessing from \"./eProcessing\";\n\nimport TodoTab from './todoTab';\nimport ArchiveTab from './ArchiveTab/index';\nimport Timeline from './timeline';\nimport NoData from './noData';\nimport OverviewTab from './OverviewTab';\nimport { UpdResidentDoc, Eprocessing, NewPrescription, VirtualVisit } from '../../../assets/images/resident-detail/index';\nimport { PrescriptionForm } from '../../../components/Prescription';\nimport { isModuleAccessible, canPerformAction } from '../../../util/common';\nimport { MODULE, ACTIONS } from '../../../constants/subscription';\nimport { updateOpenResident } from '../../../appRedux/actions/Resident';\nimport Tooltip from 'rc-tooltip';\nexport const actionContext = createContext([]);\n\nconst UserResidentDetail = ({\n  userName,\n  residentDetail\n}) => {\n  // add residentSetail as context provider\n  const authUser = useSelector(state => state.auth.authUser);\n  const [show, setShow] = useState(false);\n  const [addEprocessing, setAddEprocessing] = useState(false);\n  const [residentActions, setResidentActions] = useState([]);\n  const [activeActionTab, setActiveActionTab] = useState();\n  const [activeParentTab, setActiveParentTab] = useState();\n  const [activeIndex, setActiveIndex] = useState({\n    parent: 0,\n    actions: 0\n  });\n  const [parentTab, setParentTab] = useState([]);\n  const [orderDetail, setOrderDetail] = useState(null);\n  useEffect(() => {\n    let newTabs = { ...tabData\n    };\n    newTabs.subTab = newTabs.subTab.filter(x => {\n      //filter permissions here\n      let isAccessible = true;\n\n      if (!x.excludeRolePerm) {\n        isAccessible = isModuleAccessible(x.module) && canPerformAction({\n          moduleId: x.module,\n          actiontoCheck: ACTIONS.LIST.CODE\n        });\n      }\n\n      if (isAccessible) return x;\n    });\n    newTabs.resiTreat = newTabs.resiTreat.filter(x => {\n      //filter permissions here\n      let isAccessible = true;\n\n      if (!x.excludeRolePerm) {\n        isAccessible = isModuleAccessible(x.module) && canPerformAction({\n          moduleId: x.module,\n          actiontoCheck: ACTIONS.LIST.CODE\n        });\n      }\n\n      if (isAccessible) return x;\n    });\n    setParentTab(newTabs.subTab);\n    setResidentActions(newTabs.resiTreat);\n  }, []);\n\n  const toggleBox = () => {\n    handleToggleBoxes(TAB_KEYS.ORDERS);\n    if (orderDetail) setOrderDetail(null);\n    setShow(s => !s);\n  };\n\n  const eProcessing = () => {\n    handleToggleBoxes(TAB_KEYS.E_PROCESSING);\n    setAddEprocessing(e => !e);\n  };\n\n  const handleToggleBoxes = tabkey => {\n    // handles another opened toggle boxes. at a time only 1 togglebox can be open\n    if (tabkey !== TAB_KEYS.E_PROCESSING && addEprocessing) eProcessing();\n    if (tabkey !== TAB_KEYS.ORDERS && show) toggleBox();\n  };\n\n  const renderParentHeader = useCallback(params => {\n    getParentHeader(params);\n    const {\n      item,\n      isActive,\n      index\n    } = params;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resi_d\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, item.tabtitle));\n  }, []);\n\n  const renderTabTitle = ({\n    item\n  }) => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resi_d\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, item.tabtitle)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"c_records\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, item.records));\n  };\n\n  const getHeader = ({\n    item,\n    isActive\n  }) => {\n    if (!isActive) return; // setActiveActionTab(item.module)\n  };\n\n  const getParentHeader = ({\n    item,\n    isActive\n  }) => {\n    if (!isActive) return; // setActiveParentTab(item.module)\n  };\n\n  const renderActionsHeader = useCallback(item => {\n    getHeader(item);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, renderTabTitle(item));\n  }, []);\n\n  const handleFetchData = opt => {\n    let newActions = [...residentActions];\n    let index = newActions.findIndex(x => x.module === opt.module);\n\n    if (index > -1) {\n      newActions[index] = { ...newActions[index],\n        ...opt\n      };\n      setResidentActions(newActions);\n    }\n  };\n\n  const handleSelectActions = tabIndex => {//   console.log(\"UserResidentDetail -> tabIndex\", tabIndex)\n    //   setActiveActionTab(tabIndex)\n  };\n\n  const handleSelectSecondTab = tabIndex => {//   console.log(\"handleSelectSecondTab -> tabIndex\", tabIndex)\n    //   // setActiveActionTab(tabIndex)\n  };\n\n  const handleSavePresc = () => {\n    toggleBox();\n    let parentIndex = parentTab.findIndex(x => x.module === 'ACTIONS');\n    let actionIndex = residentActions.findIndex(x => x.module === MODULE.RX_ORDER);\n    setActiveIndex({\n      parent: parentIndex,\n      actions: actionIndex\n    }); // updateOpenResident({ tabkey: TAB_KEYS.ORDERS, response: null })\n  };\n\n  const handleSaveEProcessing = () => {\n    eProcessing();\n    let parentIndex = parentTab.findIndex(x => x.module === 'ACTIONS');\n    let actionIndex = residentActions.findIndex(x => x.module === MODULE.E_PROCESSING);\n    setActiveIndex({\n      parent: parentIndex,\n      actions: actionIndex\n    });\n  };\n\n  const handleEditRx = detail => {\n    toggleBox();\n    setOrderDetail(detail);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PersistentTabs, {\n    wrapperClass: \"resi_treat\",\n    key: userName + '2nd',\n    data: parentTab,\n    renderHeader: renderParentHeader,\n    canSwitchTab: !show && !addEprocessing //add flag here of toggle icons\n    ,\n    onSelect: handleSelectSecondTab,\n    activeTabIndex: activeIndex.parent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, show ? /*#__PURE__*/React.createElement(PrescriptionForm, {\n    residentDetail: residentDetail,\n    authUser: authUser,\n    edit: orderDetail,\n    onCancel: toggleBox,\n    onOk: handleSavePresc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  }) : addEprocessing ? /*#__PURE__*/React.createElement(AddEProcessing, {\n    residentDetail: residentDetail,\n    authUser: authUser // edit={orderDetail}\n    ,\n    onCancel: eProcessing,\n    onOk: handleSaveEProcessing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OverviewTab, {\n    tabKey: TAB_KEYS.OVERVIEW,\n    residentDetail: residentDetail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(DigitalBinder, {\n    residentDetail: residentDetail,\n    tabKey: TAB_KEYS.DIGITAL_BINDER,\n    onEditRx: handleEditRx // onFetchData={handleFetchData}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(PersistentTabs, {\n    key: userName + '3rd',\n    data: residentActions,\n    renderHeader: renderActionsHeader,\n    onSelect: handleSelectActions,\n    activeTabIndex: activeIndex.actions,\n    tabKey: TAB_KEYS.ACTIONS,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(OrdersTab, {\n    tabKey: TAB_KEYS.ORDERS,\n    onFetchData: handleFetchData,\n    residentActions: residentActions,\n    onEditRx: handleEditRx,\n    residentDetail: residentDetail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(PmrTab, {\n    tabKey: TAB_KEYS.PMR,\n    onFetchData: handleFetchData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(NoData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(EProcessing, {\n    tabKey: TAB_KEYS.E_PROCESSING,\n    onFetchData: handleFetchData,\n    onEditRx: handleEditRx,\n    residentDetail: residentDetail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TodoTab, {\n    tabKey: TAB_KEYS.TODO,\n    onFetchData: handleFetchData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(VirtualVisitTabData, {\n    tabKey: TAB_KEYS.VIRTUAL_VISIT,\n    onFetchData: handleFetchData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(XRayTab, {\n    tabKey: TAB_KEYS.X_RAY,\n    onFetchData: handleFetchData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(ArchiveTab, {\n    tabKey: TAB_KEYS.ARCHIVE,\n    onFetchData: handleFetchData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Timeline, {\n    tabKey: TAB_KEYS.TIMELINE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(NotesTab, {\n    tabKey: TAB_KEYS.NOTES,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"resi_opt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }\n  }, isModuleAccessible(MODULE.RX_ORDER) && canPerformAction({\n    moduleId: MODULE.RX_ORDER,\n    actiontoCheck: ACTIONS.ADD.CODE || ACTIONS.EDIT.CODE\n  }) ? /*#__PURE__*/React.createElement(\"div\", {\n    className: show ? 'active' : '',\n    onClick: toggleBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"bottom\",\n    overlay: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 21\n      }\n    }, \"New Prescription\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NewPrescription, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 17\n    }\n  }))) : null, isModuleAccessible(MODULE.E_PROCESSING) && canPerformAction({\n    moduleId: MODULE.E_PROCESSING,\n    actiontoCheck: ACTIONS.ADD.CODE || ACTIONS.EDIT.CODE\n  }) ? /*#__PURE__*/React.createElement(\"div\", {\n    className: addEprocessing ? 'active' : '',\n    onClick: eProcessing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"bottom\",\n    overlay: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }\n    }, \"E Processing\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Eprocessing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 17\n    }\n  }))) : null, isModuleAccessible(MODULE.RESIDENT_DOCUMENT) && canPerformAction({\n    moduleId: MODULE.RESIDENT_DOCUMENT,\n    actiontoCheck: ACTIONS.UPLOAD.CODE\n  }) ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UpdResidentDoc, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  })) : null, isModuleAccessible(MODULE.VIRTUAL_VISIT) && canPerformAction({\n    moduleId: MODULE.VIRTUAL_VISIT,\n    actiontoCheck: ACTIONS.ADD.CODE || ACTIONS.EDIT.CODE\n  }) ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"bottom\",\n    overlay: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 21\n      }\n    }, \"Virtual Visit\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(VirtualVisit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 17\n    }\n  }))) : null));\n};\n\nexport default memo(UserResidentDetail);","map":{"version":3,"sources":["/home/gauravpendherkar/DemoWriti/src/containers/ResidentDetail/View/UserResidentDetail.js"],"names":["React","useState","memo","useCallback","useEffect","createContext","useSelector","TabPanel","tabData","TAB_KEYS","PersistentTabs","OrdersTab","PmrTab","XRayTab","NotesTab","DigitalBinder","VirtualVisitTabData","AddResident","EProcessing","AddEProcessing","TodoTab","ArchiveTab","Timeline","NoData","OverviewTab","UpdResidentDoc","Eprocessing","NewPrescription","VirtualVisit","PrescriptionForm","isModuleAccessible","canPerformAction","MODULE","ACTIONS","updateOpenResident","Tooltip","actionContext","UserResidentDetail","userName","residentDetail","authUser","state","auth","show","setShow","addEprocessing","setAddEprocessing","residentActions","setResidentActions","activeActionTab","setActiveActionTab","activeParentTab","setActiveParentTab","activeIndex","setActiveIndex","parent","actions","parentTab","setParentTab","orderDetail","setOrderDetail","newTabs","subTab","filter","x","isAccessible","excludeRolePerm","module","moduleId","actiontoCheck","LIST","CODE","resiTreat","toggleBox","handleToggleBoxes","ORDERS","s","eProcessing","E_PROCESSING","e","tabkey","renderParentHeader","params","getParentHeader","item","isActive","index","tabtitle","renderTabTitle","records","getHeader","renderActionsHeader","handleFetchData","opt","newActions","findIndex","handleSelectActions","tabIndex","handleSelectSecondTab","handleSavePresc","parentIndex","actionIndex","RX_ORDER","handleSaveEProcessing","handleEditRx","detail","OVERVIEW","DIGITAL_BINDER","PMR","TODO","VIRTUAL_VISIT","X_RAY","ARCHIVE","TIMELINE","NOTES","ADD","EDIT","RESIDENT_DOCUMENT","UPLOAD"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  memo,\n  useCallback,\n  useEffect,\n  createContext,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport { TabPanel } from 'react-tabs';\nimport { tabData, TAB_KEYS } from '../../../components/common/Tab/data';\nimport PersistentTabs from '../../../components/common/Tab/PersistentTabs';\nimport OrdersTab from './OrdersTab';\nimport PmrTab from './PmrTab/index';\nimport XRayTab from './xrayTab';\nimport NotesTab from './NotesTab/index';\n// import DigitalBinderTab from \"./digitalBinderTab\";\nimport DigitalBinder from '../View/DigitalBinder/index';\nimport VirtualVisitTabData from './virtualVisitTab';\nimport AddResident from './addResident';\nimport EProcessing from './EProcessing/index';\nimport AddEProcessing from './EProcessing/AddEProcessing';\n// import EProcessing from \"./eProcessing\";\nimport TodoTab from './todoTab';\nimport ArchiveTab from './ArchiveTab/index';\nimport Timeline from './timeline';\nimport NoData from './noData';\nimport OverviewTab from './OverviewTab';\nimport {\n  UpdResidentDoc,\n  Eprocessing,\n  NewPrescription,\n  VirtualVisit,\n} from '../../../assets/images/resident-detail/index';\nimport { PrescriptionForm } from '../../../components/Prescription';\nimport { isModuleAccessible, canPerformAction } from '../../../util/common';\nimport { MODULE, ACTIONS } from '../../../constants/subscription';\nimport { updateOpenResident } from '../../../appRedux/actions/Resident';\nimport Tooltip from 'rc-tooltip';\n\nexport const actionContext = createContext([]);\nconst UserResidentDetail = ({ userName, residentDetail }) => {\n  // add residentSetail as context provider\n  const authUser = useSelector((state) => state.auth.authUser);\n  const [show, setShow] = useState(false);\n  const [addEprocessing, setAddEprocessing] = useState(false);\n  const [residentActions, setResidentActions] = useState([]);\n  const [activeActionTab, setActiveActionTab] = useState();\n  const [activeParentTab, setActiveParentTab] = useState();\n  const [activeIndex, setActiveIndex] = useState({\n    parent: 0,\n    actions: 0,\n  });\n  const [parentTab, setParentTab] = useState([]);\n  const [orderDetail, setOrderDetail] = useState(null);\n\n  useEffect(() => {\n    let newTabs = { ...tabData };\n    newTabs.subTab = newTabs.subTab.filter((x) => {\n      //filter permissions here\n      let isAccessible = true;\n      if (!x.excludeRolePerm) {\n        isAccessible = (isModuleAccessible(x.module) &&\n          canPerformAction({\n            moduleId: x.module,\n            actiontoCheck: ACTIONS.LIST.CODE,\n          }));\n      }\n      if (isAccessible) return x;\n    });\n\n    newTabs.resiTreat = newTabs.resiTreat.filter((x) => {\n      //filter permissions here\n      let isAccessible = true;\n      if (!x.excludeRolePerm) {\n        isAccessible = (isModuleAccessible(x.module) &&\n          canPerformAction({\n            moduleId: x.module,\n            actiontoCheck: ACTIONS.LIST.CODE,\n          }));\n      }\n      if (isAccessible) return x;\n    });\n\n    setParentTab(newTabs.subTab);\n    setResidentActions(newTabs.resiTreat);\n  }, []);\n\n  const toggleBox = () => {\n    handleToggleBoxes(TAB_KEYS.ORDERS);\n    if (orderDetail) setOrderDetail(null);\n    setShow((s) => !s);\n  };\n\n  const eProcessing = () => {\n    handleToggleBoxes(TAB_KEYS.E_PROCESSING);\n    setAddEprocessing((e) => !e);\n  };\n\n  const handleToggleBoxes = (tabkey) => {\n    // handles another opened toggle boxes. at a time only 1 togglebox can be open\n    if (tabkey !== TAB_KEYS.E_PROCESSING && addEprocessing) eProcessing();\n    if (tabkey !== TAB_KEYS.ORDERS && show) toggleBox();\n  };\n\n  const renderParentHeader = useCallback((params) => {\n    getParentHeader(params);\n    const { item, isActive, index } = params;\n    return (\n      <div className='resi_d'>\n        <h3>{item.tabtitle}</h3>\n      </div>\n    );\n  }, []);\n\n  const renderTabTitle = ({ item }) => {\n    return (\n      <>\n        <div className='resi_d'>\n          <h3>{item.tabtitle}</h3>\n        </div>\n        <div className='c_records'>{item.records}</div>\n      </>\n    );\n  };\n\n  const getHeader = ({ item, isActive }) => {\n    if (!isActive) return;\n    // setActiveActionTab(item.module)\n  };\n  const getParentHeader = ({ item, isActive }) => {\n    if (!isActive) return;\n    // setActiveParentTab(item.module)\n  };\n\n  const renderActionsHeader = useCallback((item) => {\n    getHeader(item);\n    return <>{renderTabTitle(item)}</>;\n  }, []);\n\n  const handleFetchData = (opt) => {\n    let newActions = [...residentActions];\n    let index = newActions.findIndex((x) => x.module === opt.module);\n    if (index > -1) {\n      newActions[index] = { ...newActions[index], ...opt };\n      setResidentActions(newActions);\n    }\n  };\n\n  const handleSelectActions = (tabIndex) => {\n    //   console.log(\"UserResidentDetail -> tabIndex\", tabIndex)\n    //   setActiveActionTab(tabIndex)\n  };\n  const handleSelectSecondTab = (tabIndex) => {\n    //   console.log(\"handleSelectSecondTab -> tabIndex\", tabIndex)\n    //   // setActiveActionTab(tabIndex)\n  };\n\n  const handleSavePresc = () => {\n    toggleBox();\n    let parentIndex = parentTab.findIndex((x) => x.module === 'ACTIONS');\n    let actionIndex = residentActions.findIndex(\n      (x) => x.module === MODULE.RX_ORDER\n    );\n    setActiveIndex({\n      parent: parentIndex,\n      actions: actionIndex,\n    });\n    // updateOpenResident({ tabkey: TAB_KEYS.ORDERS, response: null })\n  };\n\n  const handleSaveEProcessing = () => {\n    eProcessing();\n    let parentIndex = parentTab.findIndex((x) => x.module === 'ACTIONS');\n    let actionIndex = residentActions.findIndex(\n      (x) => x.module === MODULE.E_PROCESSING\n    );\n    setActiveIndex({\n      parent: parentIndex,\n      actions: actionIndex,\n    });\n  };\n\n  const handleEditRx = (detail) => {\n    toggleBox();\n    setOrderDetail(detail);\n  };\n\n  return (\n    <>\n      <PersistentTabs\n        wrapperClass='resi_treat'\n        key={userName + '2nd'}\n        data={parentTab}\n        renderHeader={renderParentHeader}\n        canSwitchTab={!show && !addEprocessing} //add flag here of toggle icons\n        onSelect={handleSelectSecondTab}\n        activeTabIndex={activeIndex.parent}\n      >\n        {show ? (\n          <PrescriptionForm\n            residentDetail={residentDetail}\n            authUser={authUser}\n            edit={orderDetail}\n            onCancel={toggleBox}\n            onOk={handleSavePresc}\n          />\n        ) : addEprocessing ? (\n          <AddEProcessing\n            residentDetail={residentDetail}\n            authUser={authUser}\n            // edit={orderDetail}\n            onCancel={eProcessing}\n            onOk={handleSaveEProcessing}\n          />\n        ) : (\n              <>\n                <OverviewTab\n                  tabKey={TAB_KEYS.OVERVIEW}\n                  residentDetail={residentDetail}\n                />\n                <DigitalBinder\n                  residentDetail={residentDetail}\n                  tabKey={TAB_KEYS.DIGITAL_BINDER}\n                  onEditRx={handleEditRx}\n                // onFetchData={handleFetchData}\n                />\n                {/* <DigitalBinderTab tabKey={TAB_KEYS.DIGITAL_BINDER} /> */}\n                <PersistentTabs\n                  key={userName + '3rd'}\n                  data={residentActions}\n                  renderHeader={renderActionsHeader}\n                  onSelect={handleSelectActions}\n                  activeTabIndex={activeIndex.actions}\n                  tabKey={TAB_KEYS.ACTIONS}\n                >\n                  <OrdersTab\n                    tabKey={TAB_KEYS.ORDERS}\n                    onFetchData={handleFetchData}\n                    residentActions={residentActions}\n                    onEditRx={handleEditRx}\n                    residentDetail={residentDetail}\n                  />\n                  <PmrTab tabKey={TAB_KEYS.PMR} onFetchData={handleFetchData} />\n                  <NoData />\n                  <EProcessing\n                    tabKey={TAB_KEYS.E_PROCESSING}\n                    onFetchData={handleFetchData}\n                    onEditRx={handleEditRx}\n                    residentDetail={residentDetail}\n                  />\n                  <TodoTab tabKey={TAB_KEYS.TODO} onFetchData={handleFetchData} />\n                  <VirtualVisitTabData\n                    tabKey={TAB_KEYS.VIRTUAL_VISIT}\n                    onFetchData={handleFetchData}\n                  />\n                  <XRayTab tabKey={TAB_KEYS.X_RAY} onFetchData={handleFetchData} />\n                  <ArchiveTab\n                    tabKey={TAB_KEYS.ARCHIVE}\n                    onFetchData={handleFetchData}\n                  />\n                </PersistentTabs>\n                <Timeline tabKey={TAB_KEYS.TIMELINE} />\n                <NotesTab tabKey={TAB_KEYS.NOTES} />\n              </>\n            )}\n      </PersistentTabs>\n      <div className='resi_opt'>\n        {isModuleAccessible(MODULE.RX_ORDER) &&\n          canPerformAction({\n            moduleId: MODULE.RX_ORDER,\n            actiontoCheck: ACTIONS.ADD.CODE || ACTIONS.EDIT.CODE,\n          }) ? (\n            <div className={show ? 'active' : ''} onClick={toggleBox}>\n              <Tooltip\n                placement=\"bottom\"\n                overlay={\n                  <div>\n                    <b>New Prescription</b>\n                  </div>\n                }\n              >\n\n                <NewPrescription />\n              </Tooltip>\n            </div>\n          ) : null}\n        {isModuleAccessible(MODULE.E_PROCESSING) &&\n          canPerformAction({\n            moduleId: MODULE.E_PROCESSING,\n            actiontoCheck: ACTIONS.ADD.CODE || ACTIONS.EDIT.CODE,\n          }) ? (\n            <div className={addEprocessing ? 'active' : ''} onClick={eProcessing}>\n              <Tooltip\n                placement=\"bottom\"\n                overlay={\n                  <div>\n                    <b>E Processing</b>\n                  </div>\n                }\n              >\n                <Eprocessing />\n              </Tooltip>\n            </div>\n          ) : null}\n\n        {/* <div>\n                  <pmrTab />\n                </div> */}\n        {isModuleAccessible(MODULE.RESIDENT_DOCUMENT) &&\n          canPerformAction({\n            moduleId: MODULE.RESIDENT_DOCUMENT,\n            actiontoCheck: ACTIONS.UPLOAD.CODE,\n          }) ? (\n            <div>\n              <UpdResidentDoc />\n            </div>\n          ) : null}\n        {isModuleAccessible(MODULE.VIRTUAL_VISIT) &&\n          canPerformAction({\n            moduleId: MODULE.VIRTUAL_VISIT,\n            actiontoCheck: ACTIONS.ADD.CODE || ACTIONS.EDIT.CODE,\n          }) ? (\n            <div>\n              <Tooltip\n                placement=\"bottom\"\n                overlay={\n                  <div>\n                    <b>Virtual Visit</b>\n                  </div>\n                }\n              >\n\n                <VirtualVisit />\n              </Tooltip>\n            </div>\n          ) : null}\n      </div>\n    </>\n  );\n};\nexport default memo(UserResidentDetail);\n"]},"metadata":{},"sourceType":"module"}