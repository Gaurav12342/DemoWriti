{"ast":null,"code":"var _jsxFileName = \"/home/gauravpendherkar/DemoWriti/src/containers/ResidentDetailCopy/View/residents.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { ChevronDoubleLeft, Filters, PlusBtn } from '../../../assets/images/resident-detail/index';\nimport ResidentBlock from './ResidentBlock';\nimport ResidentListFilter from './ResidentListFilter';\nimport { getResidents } from '../../../services/api/routes/resident';\nimport axios from '../../../services/api/services/common';\nimport { Toast, Spin, Search } from '../../../components/common';\nimport InfiniteScroll from 'react-infinite-scroller';\nconst residentData = Array(12).fill('').map((v, i) => ({\n  name: `User ${i + 1}`,\n  image: require('../../../assets/images/user.jpg'),\n  meta: 'ACTIVE | Room : 2056',\n  isActive: i !== 2,\n  id: `RBlock${i}`\n}));\n\nconst CollapsedBar = ({\n  toggleCollapsedBar\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `residents_container collapsed`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search_resi form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hide_pane\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: `collapse_pane collapsed`,\n    onClick: toggleCollapsedBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ChevronDoubleLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"pane_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, \" ALL RESIDENTS \"));\n};\n\nconst Residents = props => {\n  const openedResidents = useSelector(state => state.resident.openedResidents);\n  const [showFilter, setShowFilter] = useState(false);\n  const [showSidePane, setShowSidePane] = useState(true);\n  const [loader, setLoader] = useState(false);\n  const [count, setCount] = useState(0);\n  const [residentData, setResidentData] = useState([]);\n  const [filter, setFilter] = useState({\n    pageNo: 1,\n    limit: 15,\n    select: [],\n    sort: {\n      createdAt: -1\n    },\n    where: {}\n  });\n  useEffect(() => {\n    fetch();\n  }, []);\n\n  const fetch = async () => {\n    setLoader(true);\n    let res = await axios({ ...getResidents,\n      data: { ...filter\n      }\n    });\n\n    if (res) {\n      if (res.code === 'OK') {\n        setResidentData(res.data.data);\n      } else Toast.error(res.message);\n    }\n\n    setLoader(false);\n  };\n\n  const onSearch = e => {\n    console.log(\"onSearch -> e\", e);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !showSidePane ? /*#__PURE__*/React.createElement(CollapsedBar, {\n    toggleCollapsedBar: () => setShowSidePane(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"residents_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search_resi form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    style: {\n      width: '100%'\n    },\n    placeholder: \"Search Resident\",\n    onChange: onSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hide_pane\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: `show_filter ${showFilter && 'showed'}`,\n    onClick: () => setShowFilter(s => !s),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Filters, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"collapse_pane\",\n    onClick: () => setShowSidePane(s => !s),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(ChevronDoubleLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 37\n    }\n  })))), !showFilter ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"resi_person_wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 37\n    }\n  }, residentData.map((user, i) => /*#__PURE__*/React.createElement(ResidentBlock, {\n    isOpened: !!openedResidents[user.id],\n    user: user,\n    key: user._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 49\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add_resident\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(PlusBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 41\n    }\n  }, \"Add Resident\"))) : /*#__PURE__*/React.createElement(ResidentListFilter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 33\n    }\n  })));\n};\n\nexport default Residents;","map":{"version":3,"sources":["/home/gauravpendherkar/DemoWriti/src/containers/ResidentDetailCopy/View/residents.js"],"names":["React","useState","useEffect","useSelector","ChevronDoubleLeft","Filters","PlusBtn","ResidentBlock","ResidentListFilter","getResidents","axios","Toast","Spin","Search","InfiniteScroll","residentData","Array","fill","map","v","i","name","image","require","meta","isActive","id","CollapsedBar","toggleCollapsedBar","Residents","props","openedResidents","state","resident","showFilter","setShowFilter","showSidePane","setShowSidePane","loader","setLoader","count","setCount","setResidentData","filter","setFilter","pageNo","limit","select","sort","createdAt","where","fetch","res","data","code","error","message","onSearch","e","console","log","width","s","user","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { ChevronDoubleLeft, Filters, PlusBtn } from '../../../assets/images/resident-detail/index';\nimport ResidentBlock from './ResidentBlock';\nimport ResidentListFilter from './ResidentListFilter';\nimport { getResidents } from '../../../services/api/routes/resident'\nimport axios from '../../../services/api/services/common'\nimport { Toast, Spin, Search } from '../../../components/common';\nimport InfiniteScroll from 'react-infinite-scroller';\n\nconst residentData = Array(12).fill('').map((v, i) =>\n    ({\n        name: `User ${i + 1}`,\n        image: require('../../../assets/images/user.jpg'),\n        meta: 'ACTIVE | Room : 2056',\n        isActive: i !== 2,\n        id: `RBlock${i}`\n    })\n)\n\nconst CollapsedBar = ({ toggleCollapsedBar }) => {\n    return (\n        <div className={`residents_container collapsed`}>\n            <div className=\"search_resi form\">\n                <div className=\"hide_pane\">\n                    <a className={`collapse_pane collapsed`} onClick={toggleCollapsedBar}>\n                        <ChevronDoubleLeft />\n                    </a>\n                </div>\n            </div>\n            <h4 className=\"pane_name\"> ALL RESIDENTS </h4>\n        </div>\n    )\n}\n\nconst Residents = (props) => {\n    const openedResidents = useSelector(state => state.resident.openedResidents)\n    const [showFilter, setShowFilter] = useState(false);\n    const [showSidePane, setShowSidePane] = useState(true);\n    const [loader, setLoader] = useState(false);\n    const [count, setCount] = useState(0);\n    const [residentData, setResidentData] = useState([]);\n    const [filter, setFilter] = useState({\n        pageNo: 1,\n        limit: 15,\n        select: [],\n        sort: { createdAt: -1 },\n        where: {}\n    });\n\n    useEffect(() => {\n        fetch()\n    }, [])\n\n    const fetch = async () => {\n        setLoader(true)\n        let res = await axios({ ...getResidents, data: { ...filter } })\n        if (res) {\n            if (res.code === 'OK') {\n                setResidentData(res.data.data)\n            } else\n                Toast.error(res.message)\n        }\n        setLoader(false)\n    }\n\n    const onSearch = (e) => {\n        console.log(\"onSearch -> e\", e)\n\n    }\n\n    return (\n        <>\n            {\n                !showSidePane ?\n                    <CollapsedBar toggleCollapsedBar={() => setShowSidePane(true)} />\n                    :\n                    <div className='residents_container'>\n\n                        <div className=\"search_resi form\">\n                            <form>\n                                <div className=\"form_group\">\n                                    <Search style={{ width: '100%' }}\n                                        placeholder='Search Resident'\n                                        onChange={onSearch}\n                                    />\n                                </div>\n                            </form>\n                            <div className=\"hide_pane\">\n                                <a\n                                    className={`show_filter ${showFilter && 'showed'}`}\n                                    onClick={() => setShowFilter(s => !s)}\n                                >\n                                    <Filters />\n                                </a>\n                                <a\n                                    className='collapse_pane'\n                                    onClick={() => setShowSidePane(s => !s)}>\n                                    <ChevronDoubleLeft />\n                                </a>\n                            </div>\n                        </div>\n\n                        {\n                            !showFilter ?\n                                <>\n                                    <div className=\"resi_person_wrap\">\n                                        {\n                                            residentData.map((user, i) => (\n                                                <ResidentBlock\n                                                    isOpened={!!openedResidents[user.id]}\n                                                    user={user}\n                                                    key={user._id}\n                                                />\n                                            ))\n                                        }\n                                    </div>\n                                    <div className=\"add_resident\">\n                                        <PlusBtn />\n                                        <h3>Add Resident</h3>\n                                    </div>\n                                </>\n                                :\n                                <ResidentListFilter />\n                        }\n                    </div>\n            }\n\n        </>\n    )\n}\n\nexport default Residents"]},"metadata":{},"sourceType":"module"}