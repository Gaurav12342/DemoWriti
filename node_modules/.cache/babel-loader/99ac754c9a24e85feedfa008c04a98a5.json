{"ast":null,"code":"var _jsxFileName = \"/home/gauravpendherkar/DemoWriti/src/containers/SubscriptionUpsert/components/SideBar.js\";\nimport React, { useState, useEffect } from 'react';\nimport { createForm, formShape } from 'rc-form';\nimport { Trash, Edit, PlusBtn } from '../../../assets/images/resident-detail/index';\nimport { Search, ConfirmPopup, Spin } from '../../../components/common';\nimport InfiniteScroll from 'react-infinite-scroller';\n\nconst PermissionsSidebar = props => {\n  const {\n    listData,\n    onDelete,\n    onEdit,\n    onSelect,\n    onInfiniteOnLoad,\n    onAdd,\n    edit,\n    detail,\n    listLoader,\n    hasMore,\n    loading,\n    onSearch,\n    isRole\n  } = props;\n  const [selected, setSelected] = useState();\n  const [record, setRecord] = useState();\n  const [visible, setVisible] = useState(false);\n  let scrollParentRef = null;\n  const str = isRole ? 'Role Permission' : 'Subscription';\n\n  const handleInfiniteOnLoad = page => {\n    // let arr = [...residentData]\n    // arr = arr.concat(data1)\n    // if (arr.length === 18)\n    //     setHasMore(false)\n    // setResidentData(arr)\n    onInfiniteOnLoad();\n  };\n\n  const handleEdit = (e, data) => {\n    e.stopPropagation();\n    onEdit(data);\n  };\n\n  const handleDelete = (e, data) => {\n    e.stopPropagation();\n    setRecord(data);\n    setVisible(true);\n  };\n\n  const handleSelect = data => {\n    onSelect(data);\n  };\n\n  const handleSearch = val => {\n    onSearch(val);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"permissions_sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search_wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    style: {\n      width: '100%'\n    },\n    placeholder: `Search ${str}`,\n    onChange: e => handleSearch(e.target.value),\n    allowClear: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"permission_group_wrapper\",\n    ref: ref => scrollParentRef = ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, listLoader ? /*#__PURE__*/React.createElement(Spin, {\n    spinning: listLoader,\n    str: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 34\n    }\n  }) : listData && listData.length ? /*#__PURE__*/React.createElement(InfiniteScroll, {\n    pageStart: 0,\n    initialLoad: false,\n    loadMore: handleInfiniteOnLoad,\n    hasMore: hasMore && !listLoader && !loading // loader={loaddetailing ? <Spin spinning={loading} str='center autoheight' /> : null}\n    ,\n    useWindow: false,\n    threshold: 20,\n    getScrollParent: () => scrollParentRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }\n  }, listData.map(x => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: x._id,\n      onClick: () => handleSelect(x),\n      className: `group_content ${detail && detail._id === x._id ? ' active' : ''} \n                                ${edit && detail && detail._id === x._id ? ' edit_mode' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 48\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 45\n      }\n    }, x.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"group_opt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 45\n      }\n    }, edit && detail && detail._id === x._id ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: e => handleEdit(e, x),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Edit, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 65\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      onClick: e => handleDelete(e, x),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Trash, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 65\n      }\n    })))));\n  }), loading ? /*#__PURE__*/React.createElement(Spin, {\n    spinning: loading,\n    str: \"center autoheight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 44\n    }\n  }) : null) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, \"No Data\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add_permission\",\n    onClick: onAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PlusBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Add \", str))), visible && /*#__PURE__*/React.createElement(ConfirmPopup, {\n    style: {\n      width: '550px'\n    },\n    visible: visible,\n    title: `Are you sure, you want to delete subscription ${record.name} ?`,\n    onOk: () => {\n      onDelete(record);\n      setVisible(false);\n      setRecord(null);\n    },\n    onCancel: () => setVisible(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default PermissionsSidebar;","map":{"version":3,"sources":["/home/gauravpendherkar/DemoWriti/src/containers/SubscriptionUpsert/components/SideBar.js"],"names":["React","useState","useEffect","createForm","formShape","Trash","Edit","PlusBtn","Search","ConfirmPopup","Spin","InfiniteScroll","PermissionsSidebar","props","listData","onDelete","onEdit","onSelect","onInfiniteOnLoad","onAdd","edit","detail","listLoader","hasMore","loading","onSearch","isRole","selected","setSelected","record","setRecord","visible","setVisible","scrollParentRef","str","handleInfiniteOnLoad","page","handleEdit","e","data","stopPropagation","handleDelete","handleSelect","handleSearch","val","width","target","value","ref","length","map","x","_id","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { createForm, formShape } from 'rc-form';\nimport { Trash, Edit, PlusBtn } from '../../../assets/images/resident-detail/index';\nimport { Search, ConfirmPopup, Spin } from '../../../components/common'\nimport InfiniteScroll from 'react-infinite-scroller';\n\nconst PermissionsSidebar = (props) => {\n    const { listData, onDelete, onEdit, onSelect, onInfiniteOnLoad, onAdd, edit, detail, listLoader,\n        hasMore, loading, onSearch, isRole\n    } = props\n    const [selected, setSelected] = useState()\n    const [record, setRecord] = useState()\n    const [visible, setVisible] = useState(false)\n    let scrollParentRef = null\n    const str = isRole ? 'Role Permission' : 'Subscription'\n\n    const handleInfiniteOnLoad = (page) => {\n        // let arr = [...residentData]\n        // arr = arr.concat(data1)\n        // if (arr.length === 18)\n        //     setHasMore(false)\n        // setResidentData(arr)\n        onInfiniteOnLoad()\n    }\n\n    const handleEdit = (e, data) => {\n        e.stopPropagation();\n        onEdit(data)\n    }\n\n    const handleDelete = (e, data) => {\n        e.stopPropagation();\n        setRecord(data)\n        setVisible(true)\n    }\n\n    const handleSelect = (data) => {\n        onSelect(data)\n    }\n\n    const handleSearch = (val) => {\n        onSearch(val)\n    }\n\n    return (<>\n        <div className=\"permissions_sidebar\">\n            <div className=\"search_wrap\">\n                <form>\n                    <div className=\"form_group\">\n                        <Search style={{ width: '100%' }}\n                            placeholder={`Search ${str}`}\n                            onChange={(e) => handleSearch(e.target.value)}\n                            allowClear\n                        />\n                    </div>\n                </form>\n            </div>\n            {/* <div className=\"permission_group_wrapper\"> */}\n            <div className=\"permission_group_wrapper\" ref={(ref) => scrollParentRef = ref}>\n                {\n                    listLoader ? <Spin spinning={listLoader} str='center' />\n                        : listData && listData.length ?\n                            <InfiniteScroll\n                                pageStart={0}\n                                initialLoad={false}\n                                loadMore={handleInfiniteOnLoad}\n                                hasMore={hasMore && !listLoader && !loading}\n                                // loader={loaddetailing ? <Spin spinning={loading} str='center autoheight' /> : null}\n                                useWindow={false}\n                                threshold={20}\n                                getScrollParent={() => scrollParentRef}\n                            >\n                                {\n                                    listData.map(x => {\n                                        return <div key={x._id}\n                                            onClick={() => handleSelect(x)}\n                                            className={`group_content ${detail && detail._id === x._id ? ' active' : ''} \n                                ${edit && detail && detail._id === x._id ? ' edit_mode' : ''}`}>\n                                            <p>{x.name}</p>\n                                            <div className=\"group_opt\">\n                                                {\n                                                    edit && detail && detail._id === x._id ? null :\n                                                        <>\n                                                            <a onClick={(e) => handleEdit(e, x)}>\n                                                                <Edit />\n                                                            </a>\n                                                            <a onClick={(e) => handleDelete(e, x)}>\n                                                                <Trash />\n                                                            </a>\n                                                        </>\n                                                }\n                                            </div>\n                                        </div>\n                                    })\n                                }\n                                {loading ? <Spin spinning={loading} str='center autoheight' /> : null}\n                            </InfiniteScroll> :\n                            <p className=\"text-center\">No Data</p>\n                }\n            </div>\n            <div className=\"add_permission\" onClick={onAdd}>\n                <PlusBtn />\n                <h3>Add {str}</h3>\n            </div>\n        </div>\n        {visible &&\n            <ConfirmPopup style={{ width: '550px' }}\n                visible={visible}\n                title={`Are you sure, you want to delete subscription ${record.name} ?`}\n                onOk={() => {\n                    onDelete(record)\n                    setVisible(false)\n                    setRecord(null)\n                }}\n                onCancel={() => setVisible(false)} />\n        }\n    </>);\n}\nexport default PermissionsSidebar;"]},"metadata":{},"sourceType":"module"}