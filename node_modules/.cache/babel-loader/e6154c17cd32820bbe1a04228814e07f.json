{"ast":null,"code":"var _jsxFileName = \"/home/gauravpendherkar/DemoWriti/src/components/ReminderPopup/List.js\";\nimport React, { useEffect, useState } from 'react';\nimport { getAllReminder, deleteReminder, upsertReminder } from '../../services/api/routes/reminder';\nimport axios from '../../services/api/config';\nimport Reminder from './View';\nimport Dialog from '../common/Popup';\nimport { Button } from '../common';\nimport AddReminder from './Upsert';\n\nconst List = props => {\n  const {\n    visible,\n    filterOptions,\n    xRayNumber\n  } = props;\n  const [reminderData, setReminderData] = useState([]);\n  const [visibleAdd, setVisibleAdd] = useState(false);\n  useEffect(() => {\n    !!visible && fetch();\n  }, []);\n\n  const fetch = async () => {\n    axios({ ...getAllReminder,\n      data: filterOptions\n    }).then(({\n      data\n    }) => {\n      console.log(\"TCL: fetch -> data\", data);\n      let reminders = [];\n\n      if (data.code === \"OK\") {\n        console.log(data.data.list);\n\n        if (data.data && data.data.list && data.data.list.length > 0) {\n          reminders = data.data.list;\n        }\n      }\n\n      console.log('reminders => ', reminders);\n      setReminderData(reminders);\n    });\n  };\n\n  const handleDelete = reminderObj => {\n    axios({ ...deleteReminder,\n      url: `admin/reminder/destroy/${reminderObj._id}`\n    }).then(({\n      data\n    }) => {\n      console.log(\"TCL: fetch -> data\", data);\n\n      if (data.code === \"OK\") {\n        fetch();\n      }\n    });\n  };\n\n  const handleUpdate = data => {\n    axios({ ...upsertReminder,\n      data\n    }).then(({\n      data\n    }) => {\n      if (data.code === \"OK\") {\n        fetch();\n      }\n    });\n  };\n\n  const handleAdd = data => {\n    axios({ ...upsertReminder,\n      data: { ...data,\n        ...props.addData\n      }\n    }).then(({\n      data\n    }) => {\n      console.log(\"handleUpdate -> data\", data);\n\n      if (data.code === \"OK\") {\n        setVisibleAdd(false);\n        fetch();\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Dialog, Object.assign({}, props, {\n    customChildren: true,\n    footer: false,\n    onCancel: () => props.onCancel(reminderData.length, props.addData.subCategory),\n    className: \"logout_popup add_notes_warp view_notes_wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-content-log\",\n    style: {\n      maxHeight: '90vh',\n      overflowY: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"name_head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, props.modalTitle || 'View Reminders', /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginLeft: '10px'\n    },\n    onClick: () => setVisibleAdd(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Add\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), reminderData && !!reminderData.length && reminderData.map(reminderObj => /*#__PURE__*/React.createElement(Reminder, {\n    xRayNumber: xRayNumber,\n    detail: reminderObj,\n    handleDelete: () => handleDelete(reminderObj),\n    onUpdate: fetch,\n    handleUpdate: handleUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }))), !!visibleAdd && /*#__PURE__*/React.createElement(AddReminder, {\n    visible: visibleAdd,\n    isEdit: false,\n    onCancel: () => setVisibleAdd(false),\n    xRayNumber: xRayNumber,\n    handleAdd: handleAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }));\n};\n\nexport default List;","map":{"version":3,"sources":["/home/gauravpendherkar/DemoWriti/src/components/ReminderPopup/List.js"],"names":["React","useEffect","useState","getAllReminder","deleteReminder","upsertReminder","axios","Reminder","Dialog","Button","AddReminder","List","props","visible","filterOptions","xRayNumber","reminderData","setReminderData","visibleAdd","setVisibleAdd","fetch","data","then","console","log","reminders","code","list","length","handleDelete","reminderObj","url","_id","handleUpdate","handleAdd","addData","onCancel","subCategory","maxHeight","overflowY","modalTitle","marginLeft","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getAllReminder, deleteReminder, upsertReminder } from '../../services/api/routes/reminder'\nimport axios from '../../services/api/config'\nimport Reminder from './View'\nimport Dialog from '../common/Popup';\nimport { Button } from '../common';\nimport AddReminder from './Upsert'\n\nconst List = props => {\n    const { visible, filterOptions, xRayNumber } = props\n    const [reminderData, setReminderData] = useState([])\n    const [visibleAdd, setVisibleAdd] = useState(false)\n\n    useEffect(() => {\n        !!visible && fetch();\n    }, [])\n\n    const fetch = async () => {\n\n        axios({ ...getAllReminder, data: filterOptions }).then(({ data }) => {\n            console.log(\"TCL: fetch -> data\", data);\n            let reminders = [];\n            if (data.code === \"OK\") {\n                console.log(data.data.list)\n                if (data.data && data.data.list && data.data.list.length > 0) {\n                    reminders = data.data.list;\n                }\n            }\n            console.log('reminders => ', reminders)\n            setReminderData(reminders)\n        })\n\n    }\n\n    const handleDelete = reminderObj => {\n        axios({ ...deleteReminder, url: `admin/reminder/destroy/${reminderObj._id}` }).then(({ data }) => {\n            console.log(\"TCL: fetch -> data\", data);\n            if (data.code === \"OK\") {\n                fetch()\n            }\n        })\n    }\n\n    const handleUpdate = data => {\n        axios({ ...upsertReminder, data })\n            .then(({ data }) => {\n                if (data.code === \"OK\") {\n                    fetch()\n                }\n            })\n    }\n\n    const handleAdd = data => {\n        axios({ ...upsertReminder, data: { ...data, ...props.addData } })\n            .then(({ data }) => {\n                console.log(\"handleUpdate -> data\", data);\n                if (data.code === \"OK\") {\n                    setVisibleAdd(false)\n                    fetch()\n                }\n            })\n    }\n\n    return (\n        <Dialog\n            {...props}\n            customChildren={true}\n            footer={false}\n            onCancel={() => props.onCancel(reminderData.length, props.addData.subCategory)}\n            className=\"logout_popup add_notes_warp view_notes_wrap\"\n        >\n            <div className=\"popup-content-log\" style={{ maxHeight: '90vh', overflowY: 'auto' }}>\n                <h3 className=\"name_head\">\n                    {props.modalTitle || 'View Reminders'}\n                    <Button\n                        style={{ marginLeft: '10px' }}\n                        onClick={() => setVisibleAdd(true)}\n                    >\n                        Add\n                    </Button>\n                </h3>\n                <div className=\"bb\"></div>\n                {\n                    reminderData && !!reminderData.length &&\n                    reminderData.map(reminderObj =>\n                        <Reminder\n                            xRayNumber={xRayNumber}\n                            detail={reminderObj}\n                            handleDelete={() => handleDelete(reminderObj)}\n                            onUpdate={fetch}\n                            handleUpdate={handleUpdate}\n                        />\n                    )\n                }\n            </div>\n            {\n                !!visibleAdd &&\n                <AddReminder\n                    visible={visibleAdd}\n                    isEdit={false}\n                    onCancel={() => setVisibleAdd(false)}\n                    xRayNumber={xRayNumber}\n                    handleAdd={handleAdd}\n                />\n            }\n\n        </Dialog>\n    )\n}\nexport default List"]},"metadata":{},"sourceType":"module"}